services:
  aws-mcp-server:
    # Construit l'image à partir du Dockerfile dans le répertoire courant
    build: .
    # Nom du conteneur pour une identification facile
    container_name: aws-mcp-server
    # Mappe le port 5001 du conteneur au port 5001 de la machine hôte
    ports:
      - "5001:5001"
    # Monte le répertoire des credentials AWS dans le conteneur
    # Docker Compose remplace '~' par le répertoire personnel de l'utilisateur
    volumes:
      - ~/.aws:/root/.aws
    # Redémarre automatiquement le conteneur en cas d'échec
    restart: unless-stopped
